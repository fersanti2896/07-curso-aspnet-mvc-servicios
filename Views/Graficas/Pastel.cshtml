@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<div id="panel">
    <canvas id="myChart" style="width:500px; max-width:700px"></canvas>
</div>

<script>
    $(document).ready(function () {
        document.getElementById("panel").setAttribute("data-pdf", "GraficaPastel.pdf");
        document.getElementById("panel").setAttribute("data-title", "Gráfica de Pastel");

        envioGenericos("/Graficas/Datos", null, generadorGrafica)
    });

    // Resultado viene desde el servidor
    function generadorGrafica( resultado ) {
        new Chart("myChart", {
            type: "pie",
            data: {
                labels  : resultado.xValues,
                datasets: [{
                    backgroundColor: resultado.barColors,
                    data           : resultado.yValues
                }]
            },
            options: {
                title: {
                    display: true,
                    text   : "World Wide Wine Production 2018"
                }
            }
        });
    }

    
</script>